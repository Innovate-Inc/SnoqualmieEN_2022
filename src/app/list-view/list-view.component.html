<mat-card >
  
  <br><br>
  <div>
    <mat-form-field class="searchField">
      <input #searchInput matInput (keyup.enter)="search()" [(ngModel)]="searchText" placeholder="Search">
      <button *ngIf="searchInput.value" matSuffix mat-icon-button (click)="loadAll(); searchInput.value=''">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>

    <button mat-raised-button color="primary" (click)="search();">
      <!-- <button mat-mini-fab color="primary" [routerLink]="['/edit', 'new']" (click)="addFeature()"> -->
        Execute
      </button>


  </div>
<!--  <mat-progress-bar mode="indeterminate" *ngIf="loadingService.loading | async"-->
<!--                      ></mat-progress-bar>-->
  <mat-table class="tbox" #table [dataSource]="projectService.datasource" >
    <ng-container matColumnDef="id">
      <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
      <mat-cell *matCellDef="let element">{{element.attributes.ID_DAHP_full}}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
      <mat-cell *matCellDef="let element">{{element.attributes.Project_Name}}</mat-cell>
    </ng-container>
    <!--    <ng-container matColumnDef="date">-->
    <!--      <mat-header-cell *matHeaderCellDef>Date Received</mat-header-cell>-->
    <!--      <mat-cell *matCellDef="let element">{{element.attributes.Date_Received | date:short }}</mat-cell>-->
    <!--    </ng-container>-->

    <mat-header-row *matHeaderRowDef="displayColumns">

    </mat-header-row>

    <mat-row  *matRowDef="let row; columns: displayColumns" (click)="data.showToggle = false;"
             [routerLink]="['/app/edit', row.attributes.globalid]"></mat-row>
  </mat-table>
  <div class = "paginator-div" >
    <mat-paginator [length]="projectService.count | async" [pageSize]="25" [pageSizeOptions]="[25, 50, 100]"
                   (page)="projectService.getPage($event)"></mat-paginator>

  </div>
</mat-card>
